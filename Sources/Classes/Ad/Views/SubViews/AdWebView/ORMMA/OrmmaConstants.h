//
//  OrmmaConstants.h
//  AdMobileSDK
//
//  Created by Constantine Mureev on 8/29/11.
//

#define ORMMA_PLACEHOLDER @"<!-- ORMMA_PLACEHOLDER -->"

#define ORMMA_JS @"window.init_ormmaview=function(){var b=window.ormmaview={},p={useBackground:!1,backgroundColor:\"#ffffff\",backgroundOpacity:1,lockOrientation:!1},c={},h=[],q=!1,l=!1;b.fireAssetReadyEvent=function(b,g){var e=c.assetReady;if(e!=null)for(var f=0;f<e.length;f++)e[f](b,g);return\"OK\"};b.fireAssetRemovedEvent=function(b){var g=c.assetRemoved;if(g!=null)for(var e=0;e<g.length;e++)g[e](b);return\"OK\"};b.fireAssetRetiredEvent=function(b){var g=c.assetRetired;if(g!=null)for(var e=0;e<g.length;e++)g[e](b);return\"OK\"}; b.fireChangeEvent=function(b){var g=c.change;if(g!=null)for(var e=0;e<g.length;e++)g[e](b);return\"OK\"};b.fireErrorEvent=function(b,g){var e=c.error;if(e!=null)for(var f=0;f<e.length;f++)e[f](b,g);return\"OK\"};b.fireShakeEvent=function(){var b=c.shake;if(b!=null)for(var g=0;g<b.length;g++)b[g]();return\"OK\"};b.fireResponseEvent=function(b,g){var e=c.response;if(e!=null)for(var f=0;f<e.length;f++)e[f](b,g);return\"OK\"};b.nativeCallComplete=function(){if(h.length==0)q=!1;else{var b=h.pop();window.location= b;return\"OK\"}};b.showAlert=function(b){alert(b)};b.zeroPad=function(b){var c=\"\";b<10&&(c+=\"0\");c+=b;return c};b.executeNativeCall=function(b){for(var c=\"ormma://\"+b,e,f=!0,m=1;m<arguments.length;m+=2)e=arguments[m+1],e!=null&&(f?(c+=\"?\",f=!1):c+=\"&\",c+=arguments[m]+\"=\"+escape(e));q||!l?h.push(c):(q=!0,window.location=c)};b.activate=function(b){this.executeNativeCall(\"service\",\"name\",b,\"enabled\",\"Y\")};b.addEventListener=function(b,g){var e=c[b];e==null&&(c[b]=[],e=c[b]);for(var f in e)if(g==f)return; e.push(g)};b.deactivate=function(b){this.executeNativeCall(\"service\",\"name\",b,\"enabled\",\"N\")};b.removeEventListener=function(b,g){var e=c[b];e!=null&&e.remove(g)};b.close=function(){this.executeNativeCall(\"close\")};b.expand=function(b){this.executeNativeCall(\"expand\",\"url\",b)};b.hide=function(){this.executeNativeCall(\"hide\")};b.open=function(b){this.executeNativeCall(\"open\",\"url\",b)};b.openMap=function(b,c){this.executeNativeCall(\"openMap\",\"url\",b,\"fullscreen\",c)};b.resize=function(b,c){this.executeNativeCall(\"resize\", \"w\",b,\"h\",c)};b.getExpandProperties=function(){return p};b.setExpandProperties=function(b){p=b};b.show=function(){this.executeNativeCall(\"show\")};b.storePicture=function(b){this.executeNativeCall(\"storePicture\",\"url\",b)};b.useCustomClose=function(b){p.useCustomClose=b};b.playAudio=function(b,c){var e=\"this.executeNativeCall( 'playAudio'\";e+=\", 'url', '\"+b+\"'\";c!=null&&(e+=typeof c.autoplay!=\"undefined\"&&c.autoplay!=null?\", 'autoplay', 'Y'\":\", 'autoplay', 'N'\",e+=typeof c.controls!=\"undefined\"&&c.controls!= null?\", 'controls', 'Y'\":\", 'controls', 'N'\",e+=typeof c.loop!=\"undefined\"&&c.loop!=null?\", 'loop', 'Y'\":\", 'loop', 'N'\",e+=typeof c.position!=\"undefined\"&&c.position!=null?\", 'position', 'Y'\":\", 'position', 'N'\",e+=typeof c.startStyle!=\"undefined\"&&c.startStyle!=null?\", 'startStyle', '\"+c.startStyle+\"'\":\", 'startStyle', 'normal'\",e+=typeof c.stopStyle!=\"undefined\"&&c.stopStyle!=null?\", 'stopStyle', '\"+c.stopStyle+\"'\":\", 'stopStyle', 'normal'\");e+=\" );\";eval(e)};b.playVideo=function(b,c){var e=\"this.executeNativeCall( 'playVideo'\"; e+=\", 'url', '\"+b+\"'\";c!=null&&(e+=typeof c.audio!=\"undefined\"&&c.audio!=null?\", 'audioMuted', 'Y'\":\", 'audioMuted', 'N'\",e+=typeof c.autoplay!=\"undefined\"&&c.autoplay!=null?\", 'autoplay', 'Y'\":\", 'autoplay', 'N'\",e+=typeof c.controls!=\"undefined\"&&c.controls!=null?\", 'controls', 'Y'\":\", 'controls', 'N'\",e+=typeof c.loop!=\"undefined\"&&c.loop!=null?\", 'loop', 'Y'\":\", 'loop', 'N'\",typeof c.position!=\"undefined\"&&c.position!=null&&(e+=\", 'position_top', '\"+c.position.top+\"'\",e+=\", 'position_left', '\"+ c.position.left+\"'\",typeof c.width!=\"undefined\"&&c.width!=null&&(e+=\", 'position_width', '\"+c.width+\"'\"),typeof c.height!=\"undefined\"&&c.height!=null&&(e+=\", 'position_height', '\"+c.height+\"'\")),e+=typeof c.startStyle!=\"undefined\"&&c.startStyle!=null?\", 'startStyle', '\"+c.startStyle+\"'\":\", 'startStyle', 'normal'\",e+=typeof c.stopStyle!=\"undefined\"&&c.stopStyle!=null?\", 'stopStyle', '\"+c.stopStyle+\"'\":\", 'stopStyle', 'normal'\");e+=\" );\";eval(e)};b.createEvent=function(c,b,e){var f=c.getFullYear(), h=c.getMonth()+1,l=c.getDate(),n=c.getHours(),c=c.getMinutes();this.executeNativeCall(\"calendar\",\"date\",f+this.zeroPad(h)+this.zeroPad(l)+this.zeroPad(n)+this.zeroPad(c),\"title\",b,\"body\",e)};b.makeCall=function(c){this.executeNativeCall(\"phone\",\"number\",c)};b.sendMail=function(c,b,e){this.executeNativeCall(\"email\",\"to\",c,\"subject\",b,\"body\",e,\"html\",\"N\")};b.sendSMS=function(c,b){this.executeNativeCall(\"sms\",\"to\",c,\"body\",b)};b.setShakeProperties=function(){};b.addAsset=function(c,b){this.executeNativeCall(\"addasset\", \"uri\",url,\"alias\",b)};b.request=function(c,b){this.executeNativeCall(\"request\",\"uri\",c,\"display\",b)};b.removeAsset=function(c){this.executeNativeCall(\"removeasset\",\"alias\",c)};document.addEventListener(\"DOMContentLoaded\",function(){l=!0;this.nativeCallComplete()})};window.ormmaview||window.init_ormmaview();window.init_ormma=function(){var b=window.ormma={},p=b.STATES={UNKNOWN:\"unknown\",DEFAULT:\"default\",RESIZED:\"resized\",EXPANDED:\"expanded\",HIDDEN:\"hidden\"},c=b.EVENTS={ASSETREADY:\"assetReady\",ASSETREMOVED:\"assetRemoved\",ASSETRETIRED:\"assetRetired\",ERROR:\"error\",INFO:\"info\",HEADINGCHANGE:\"headingChange\",KEYBOARDCHANGE:\"keyboardChange\",LOCATIONCHANGE:\"locationChange\",NETWORKCHANGE:\"networkChange\",ORIENTATIONCHANGE:\"orientationChange\",READY:\"ready\",RESPONSE:\"response\",SCREENCHANGE:\"screenChange\",SHAKE:\"shake\", SIZECHANGE:\"sizeChange\",STATECHANGE:\"stateChange\",TILTCHANGE:\"tiltChange\",VIEWABLECHANGE:\"viewableChange\"};b.CONTROLS={BACK:\"back\",FORWARD:\"forward\",REFRESH:\"refresh\",ALL:\"all\"};var h=b.FEATURES={LEVEL1:\"level-1\",LEVEL2:\"level-2\",LEVEL3:\"level-3\",SCREEN:\"screen\",ORIENTATION:\"orientation\",HEADING:\"heading\",LOCATION:\"location\",SHAKE:\"shake\",TILT:\"tilt\",NETWORK:\"network\",SMS:\"sms\",PHONE:\"phone\",EMAIL:\"email\",CALENDAR:\"calendar\",CAMERA:\"camera\",AUDIO:\"audio\",VIDEO:\"video\",MAP:\"map\"},q=b.NETWORK={OFFLINE:\"offline\", WIFI:\"wifi\",CELL:\"cell\",UNKNOWN:\"unknown\"},l=p.UNKNOWN,u={width:0,height:0},g={x:0,y:0,width:0,height:0},e={width:0,height:0},f={\"level-1\":!0,\"level-2\":!0,\"level-3\":!0,screen:!0,orientation:!0,heading:!0,location:!0,shake:!0,tilt:!0,network:!0,sms:!0,phone:!0,email:!0,calendar:!0,camera:!0,audio:!0,video:!0,map:!0},m=-1,w=!1,n=null,s=q.UNKNOWN,x=-1,z=\"inline\",t=null,v={interval:10,intensity:20},r=null,k={},A=-1,y=!1,D={width:function(a){return!isNaN(a)&&a>0},height:function(a){return!isNaN(a)&&a> 0},useCustomClose:function(a){return a===!0||a===!1},isModal:function(a){return a===!0||a===!1},useBackground:function(a){return a===!0||a===!1},backgroundColor:function(a){return typeof a==\"string\"&&a.substr(0,1)==\"#\"&&!isNaN(parseInt(a.substr(1),16))},backgroundOpacity:function(a){return!isNaN(a)&&a>=0&&a<=1},lockOrientation:function(a){return a===!0||a===!1}},E={intensity:function(a){return!isNaN(a)},interval:function(a){return!isNaN(a)}},F={state:function(a){d(c.INFO,\"setting state to \"+i(a)); l=a;d(c.STATECHANGE,l)},size:function(a){d(c.INFO,\"setting size to \"+i(a));u=a;d(c.SIZECHANGE,u.width,u.height)},defaultPosition:function(a){d(c.INFO,\"setting default position to \"+i(a));g=a},maxSize:function(a){d(c.INFO,\"setting maxSize to \"+i(a));e=a},expandProperties:function(a){d(c.INFO,\"merging expandProperties with \"+i(a));for(var b in a)expandProperties[b]=a[b]},supports:function(a){d(c.INFO,\"setting supports to \"+i(a));f={};for(var b in h)f[h[b]]=B(h[b],a)},heading:function(a){d(c.INFO,\"setting heading to \"+ i(a));m=a;d(c.HEADINGCHANGE,m)},keyboardState:function(a){d(c.INFO,\"setting keyboardState to \"+i(a));w=a;d(c.KEYBOARDCHANGE,w)},location:function(a){d(c.INFO,\"setting location to \"+i(a));n=a;d(c.LOCATIONCHANGE,n.lat,n.lon,n.acc)},network:function(a){d(c.INFO,\"setting network to \"+i(a));s=a;d(c.NETWORKCHANGE,s!=q.OFFLINE&&s!=q.UNKNOWN,s)},orientation:function(a){d(c.INFO,\"setting orientation to \"+i(a));x=a;d(c.ORIENTATIONCHANGE,x)},placementType:function(a){d(c.INFO,\"setting placementType to \"+i(a)); z=a},screenSize:function(a){d(c.INFO,\"setting screenSize to \"+i(a));t=a;d(c.SCREENCHANGE,t.width,t.height)},shakeProperties:function(a){d(c.INFO,\"setting shakeProperties to \"+i(a));v=a},tilt:function(a){d(c.INFO,\"setting tilt to \"+i(a));r=a;d(c.TILTCHANGE,r.x,r.y,r.z)},cacheRemaining:function(a){d(c.INFO,\"setting cacheRemaining to \"+i(a));A=a},viewable:function(a){d(c.INFO,\"setting viewable to \"+i(a));y=a;d(c.VIEWABLECHANGE,a)}},j={},G=function(a){this.event=a;this.count=0;var c={};this.add=function(b){var d= String(b);c[d]||(c[d]=b,this.count++,this.count==1&&ormmaview.activate(a))};this.remove=function(b){b=String(b);return c[b]?(c[b]=null,delete c[b],this.count--,this.count==0&&ormmaview.deactivate(a),!0):!1};this.removeAll=function(){for(var a in c)this.remove(c[a])};this.broadcast=function(a){for(var b in c)c[b].apply({},a)};this.toString=function(){var b=[a,\":\"],d;for(d in c)b.push(\"|\",d,\"|\");return b.join(\"\")}};ormmaview.addEventListener(\"change\",function(a){for(var c in a)(0,F[c])(a[c])});ormmaview.addEventListener(\"shake\", function(){d(c.SHAKE)});ormmaview.addEventListener(\"error\",function(a,b){d(c.ERROR,a,b)});ormmaview.addEventListener(\"response\",function(a,b){d(c.RESPONSE,a,b)});ormmaview.addEventListener(\"assetReady\",function(a,b){k[a]=b;d(c.ASSETREADY,a)});ormmaview.addEventListener(\"assetRemoved\",function(a){k[a]=null;delete k[a];d(c.ASSETREMOVED,a)});ormmaview.addEventListener(\"assetRetired\",function(a){k[a]=null;delete k[a];d(c.ASSETRETIRED,a)});var o=function(a){var c=function(){};c.prototype=a;return new c}, i=function(a){if(typeof a==\"object\")if(a.push){var c=[],b;for(b in a)c.push(a[b]);return\"[\"+c.join(\",\")+\"]\"}else{c=[];for(b in a)c.push(\"'\"+b+\"':\"+a[b]);return\"{\"+c.join(\",\")+\"}\"}else return String(a)},C=function(a,b,e,f){if(f)if(a===void 0)return d(c.ERROR,\"Required object missing.\",e),!1;else for(var g in b)if(a[g]===void 0)return d(c.ERROR,\"Object missing required property \"+g,e),!1;for(g in a)if(b[g]){if(!b[g](a[g]))return d(c.ERROR,\"Value of property \"+g+\" is not valid type.\",e),!1}else return d(c.ERROR, \"Invalid property specified - \"+g+\".\",e),!1;return!0},B=function(a,c){for(var b in c)if(c[b]==a)return!0;return!1},d=function(){for(var a=Array(arguments.length),c=0;c<arguments.length;c++)a[c]=arguments[c];c=a.shift();j[c]&&j[c].broadcast(a)};b.signalReady=function(){window.ORMMAReady&&ORMMAReady();d(c.READY);d(c.INFO,\"callback invoked\")};b.addEventListener=function(a,b){!a||!b?d(c.ERROR,\"Both event and listener are required.\",\"addEventListener\"):B(a,c)?(j[a]||(j[a]=new G(a)),j[a].add(b)):d(c.ERROR, \"Unknown event: \"+a,\"addEventListener\")};b.close=function(){ormmaview.close()};b.expand=function(a){ormmaview.expand(a)};b.getDefaultPosition=function(){return o(g)};b.getExpandProperties=function(){return o(ormmaview.getExpandProperties())};b.getMaxSize=function(){return o(e)};b.getSize=function(){return o(u)};b.getState=function(){return l};b.hide=function(){l==p.HIDDEN?d(c.ERROR,\"Ad is currently hidden.\",\"hide\"):ormmaview.hide()};b.isViewable=function(){return y};b.open=function(a){a?ormmaview.open(a): d(c.ERROR,\"URL is required.\",\"open\")};b.openMap=function(a,b){a?ormmaview.openMap(a,b):d(c.ERROR,\"POI is required.\",\"openMap\")};b.removeEventListener=function(a,b){a?b&&(!j[a]||!j[a].remove(b))?d(c.ERROR,\"Listener not currently registered for event\",\"removeEventListener\"):(j[a]&&j[a].removeAll(),j[a]&&j[a].count==0&&(j[a]=null,delete j[a])):d(c.ERROR,\"Must specify an event.\",\"removeEventListener\")};b.resize=function(a,b){a==null||b==null||isNaN(a)||isNaN(b)||a<0||b<0?d(c.ERROR,\"Requested size must be numeric values between 0 and maxSize.\", \"resize\"):a>e.width||b>e.height?d(c.ERROR,\"Request (\"+a+\" x \"+b+\") exceeds maximum allowable size of (\"+e.width+\" x \"+e.height+\")\",\"resize\"):ormmaview.resize(a,b)};b.setExpandProperties=function(a){C(a,D,\"setExpandProperties\")&&ormmaview.setExpandProperties(a)};b.show=function(){l!=p.HIDDEN?d(c.ERROR,\"Ad is currently visible.\",\"show\"):ormmaview.show()};b.playAudio=function(a,b){f[h.AUDIO]?!a||typeof a!=\"string\"?d(c.ERROR,\"Request must specify a URL\",\"playAudio\"):ormmaview.playAudio(a,b):d(c.ERROR, \"Method not supported by this client.\",\"playAudio\")};b.playVideo=function(a,b){f[h.VIDEO]?!a||typeof a!=\"string\"?d(c.ERROR,\"Request must specify a URL\",\"playVideo\"):ormmaview.playVideo(a,b):d(c.ERROR,\"Method not supported by this client.\",\"playVideo\")};b.createEvent=function(a,b,e){b=b.replace(/^\\s+|\\s+$/g,\"\");e=e.replace(/^\\s+|\\s+$/g,\"\");f[h.CALENDAR]?!a||typeof a!=\"object\"||!a.getDate?d(c.ERROR,\"Valid date required.\",\"createEvent\"):!b||typeof b!=\"string\"||b.length==0?d(c.ERROR,\"Valid title required.\", \"createEvent\"):!e||typeof e!=\"string\"||e.length==0?d(c.ERROR,\"Valid body required.\",\"createEvent\"):ormmaview.createEvent(a,b,e):d(c.ERROR,\"Method not supported by this client.\",\"createEvent\")};b.getHeading=function(){f[h.HEADING]||d(c.ERROR,\"Method not supported by this client.\",\"getHeading\");return m};b.getKeyboardState=function(){f[h.LEVEL2]||d(c.ERROR,\"Method not supported by this client.\",\"getKeyboardState\");return w};b.getLocation=function(){f[h.LOCATION]||d(c.ERROR,\"Method not supported by this client.\", \"getLocation\");return null==n?null:o(n)};b.getNetwork=function(){f[h.NETWORK]||d(c.ERROR,\"Method not supported by this client.\",\"getNetwork\");return s};b.getOrientation=function(){f[h.ORIENTATION]||d(c.ERROR,\"Method not supported by this client.\",\"getOrientation\");return x};b.getPlacementType=function(){return z};b.getScreenSize=function(){if(f[h.SCREEN])return null==t?null:o(t);else d(c.ERROR,\"Method not supported by this client.\",\"getScreenSize\")};b.getShakeProperties=function(){if(f[h.SHAKE])return null== v?null:o(v);else d(c.ERROR,\"Method not supported by this client.\",\"getShakeProperties\")};b.getTilt=function(){if(f[h.TILT])return null==r?null:o(r);else d(c.ERROR,\"Method not supported by this client.\",\"getTilt\")};b.getVersion=function(){return\"1.1.0\"};b.makeCall=function(a){f[h.PHONE]?!a||typeof a!=\"string\"?d(c.ERROR,\"Request must provide a number to call.\",\"makeCall\"):ormmaview.makeCall(a):d(c.ERROR,\"Method not supported by this client.\",\"makeCall\")};b.sendMail=function(a,b,e){f[h.EMAIL]?!a||typeof a!= \"string\"?d(c.ERROR,\"Request must specify a recipient.\",\"sendMail\"):ormmaview.sendMail(a,b,e):d(c.ERROR,\"Method not supported by this client.\",\"sendMail\")};b.sendSMS=function(a,b){f[h.SMS]?!a||typeof a!=\"string\"?d(c.ERROR,\"Request must specify a recipient.\",\"sendSMS\"):ormmaview.sendSMS(a,b):d(c.ERROR,\"Method not supported by this client.\",\"sendSMS\")};b.setShakeProperties=function(a){f[h.SHAKE]?C(a,E,\"setShakeProperties\")&&(v=a,ormmaview.setShakeProperties(a)):d(c.ERROR,\"Method not supported by this client.\", \"setShakeProperties\")};b.storePicture=function(a){ormmaview.storePicture(a)};b.supports=function(a){return f[a]?!0:!1};b.useCustomClose=function(a){a===!0||a===!1?ormmaview.useCustomClose(a):d(c.ERROR,\"Flag must be boolean\",\"useCustomClose\")};b.addAsset=function(a,b){!a||!b||typeof a!=\"string\"||typeof b!=\"string\"?d(c.ERROR,\"URL and alias are required.\",\"addAsset\"):f[h.LEVEL3]?ormmaview.addAsset(a,b):a.indexOf(\"ormma://\")==0?d(c.ERROR,\"Native device assets not supported by this client.\",\"addAsset\"): (k[b]=a,d(c.ASSETREADY,b))};b.addAssets=function(a){for(var c in a)b.addAsset(a[c],c)};b.getAssetURL=function(a){k[a]||d(c.ERROR,\"Alias unknown.\",\"getAssetURL\");return k[a]};b.getCacheRemaining=function(){f[h.LEVEL3]||d(c.ERROR,\"Method not supported by this client.\",\"getCacheRemaining\");return A};b.request=function(a,b){f[h.LEVEL3]?!a||typeof a!=\"string\"?d(c.ERROR,\"URI is required.\",\"request\"):ormmaview.request(a,b):d(c.ERROR,\"Method not supported by this client.\",\"request\")};b.removeAllAssets=function(){for(var a in k)b.removeAsset(a)}; b.removeAsset=function(a){!a||typeof a!=\"string\"?d(c.ERROR,\"Alias is required.\",\"removeAsset\"):k[a]?f[h.LEVEL3]?ormmaview.removeAsset(a):(k[a]=null,delete k[a],d(c.ASSETREMOVED,a)):d(c.ERROR,\"Alias unknown.\",\"removeAsset\")};b.getViewable=function(){return y}};window.ormma||window.init_ormma();window.Ormma=window.ormma;window.mraid=window.ormma;"
