//
//  OrmmaConstants.h
//  AdMobileSDK
//
//  Created by Constantine Mureev on 8/29/11.
//

#define ORMMA_PLACEHOLDER @"<!-- ORMMA_PLACEHOLDER -->"

#define ORMMA_JS @"window.init_ormmaview=function(){var a=window.ormmaview={},h={useBackground:!1,backgroundColor:\"#ffffff\",backgroundOpacity:1,lockOrientation:!1},b={},i=[],p=!1,m=!1;a.fireAssetReadyEvent=function(n,f){var d=b.assetReady;if(d!=null)for(var a=0;a<d.length;a++)d[a](n,f);return\"OK\"};a.fireAssetRemovedEvent=function(a){var f=b.assetRemoved;if(f!=null)for(var d=0;d<f.length;d++)f[d](a);return\"OK\"};a.fireAssetRetiredEvent=function(a){var f=b.assetRetired;if(f!=null)for(var d=0;d<f.length;d++)f[d](a);return\"OK\"}; a.fireChangeEvent=function(a){var f=b.change;if(f!=null)for(var d=0;d<f.length;d++)f[d](a);return\"OK\"};a.fireErrorEvent=function(a,f){var d=b.error;if(d!=null)for(var g=0;g<d.length;g++)d[g](a,f);return\"OK\"};a.fireShakeEvent=function(){var a=b.shake;if(a!=null)for(var f=0;f<a.length;f++)a[f]();return\"OK\"};a.fireResponseEvent=function(a,f){var d=b.response;if(d!=null)for(var g=0;g<d.length;g++)d[g](a,f);return\"OK\"};a.nativeCallComplete=function(){if(i.length==0)p=!1;else{var a=i.pop();window.location= a;return\"OK\"}};a.showAlert=function(a){alert(a)};a.zeroPad=function(a){var f=\"\";a<10&&(f+=\"0\");f+=a;return f};a.executeNativeCall=function(a){for(var f=\"ormma://\"+a,b,g=!0,h=1;h<arguments.length;h+=2)b=arguments[h+1],b!=null&&(g?(f+=\"?\",g=!1):f+=\"&\",f+=arguments[h]+\"=\"+escape(b));p||!m?i.push(f):(p=!0,window.location=f)};a.activate=function(a){this.executeNativeCall(\"service\",\"name\",a,\"enabled\",\"Y\")};a.addEventListener=function(a,f){var d=b[a];d==null&&(b[a]=[],d=b[a]);for(var g in d)if(f==g)return; d.push(f)};a.deactivate=function(a){this.executeNativeCall(\"service\",\"name\",a,\"enabled\",\"N\")};a.removeEventListener=function(a,f){var d=b[a];d!=null&&d.remove(f)};a.close=function(){this.executeNativeCall(\"close\")};a.expand=function(a,f){try{var b=\"this.executeNativeCall( 'expand'\";f!=null&&(b+=\", 'url', '\"+f+\"'\");typeof a.x!=\"undefined\"&&a.x!=null&&(b+=\", 'x', '\"+a.x+\"'\");typeof a.y!=\"undefined\"&&a.y!=null&&(b+=\", 'y', '\"+a.y+\"'\");typeof a.width!=\"undefined\"&&a.width!=null&&(b+=\", 'w', '\"+a.width+ \"'\");typeof a.height!=\"undefined\"&&a.height!=null&&(b+=\", 'h', '\"+a.height+\"'\");typeof h.useBackground!=\"undefined\"&&h.useBackground!=null&&(b+=\", 'useBG', '\"+(h.useBackground?\"Y\":\"N\")+\"'\");typeof h.backgroundColor!=\"undefined\"&&h.backgroundColor!=null&&(b+=\", 'bgColor', '\"+h.backgroundColor+\"'\");typeof h.backgroundOpacity!=\"undefined\"&&h.backgroundOpacity!=null&&(b+=\", 'bgOpacity', \"+h.backgroundOpacity);typeof h.lockOrientation!=\"undefined\"&&h.lockOrientation!=null&&(b+=\", 'lkOrientation', '\"+(h.lockOrientation? \"Y\":\"N\")+\"'\");b+=\" );\";eval(b)}catch(g){alert(\"executeNativeExpand: \"+g+\", cmd = \"+b)}};a.hide=function(){this.executeNativeCall(\"hide\")};a.open=function(a,b){var d=!1,g=!1,i=!1;if(b==null)i=g=d=!0;else for(var h=0;h<b.length;h++)if(b[h]==\"none\"&&h>0){self.fireErrorEvent(\"none must be the only navigation element present.\",\"open\");return}else if(b[h]==\"all\"){if(h>0){self.fireErrorEvent(\"none must be the only navigation element present.\",\"open\");return}i=g=d=!0}else b[h]==\"back\"?d=!0:b[h]==\"forward\"? g=!0:b[h]==\"refresh\"&&(i=!0);this.executeNativeCall(\"open\",\"url\",a,\"back\",d?\"Y\":\"N\",\"forward\",g?\"Y\":\"N\",\"refresh\",i?\"Y\":\"N\")};a.openMap=function(a,b){this.executeNativeCall(\"openMap\",\"url\",a,\"fullscreen\",b)};a.resize=function(a,b){this.executeNativeCall(\"resize\",\"w\",a,\"h\",b)};a.getExpandProperties=function(){return h};a.setExpandProperties=function(a){h=a};a.show=function(){this.executeNativeCall(\"show\")};a.playAudio=function(a,b){var d=\"this.executeNativeCall( 'playAudio'\";d+=\", 'url', '\"+a+\"'\"; b!=null&&(d+=typeof b.autoplay!=\"undefined\"&&b.autoplay!=null?\", 'autoplay', 'Y'\":\", 'autoplay', 'N'\",d+=typeof b.controls!=\"undefined\"&&b.controls!=null?\", 'controls', 'Y'\":\", 'controls', 'N'\",d+=typeof b.loop!=\"undefined\"&&b.loop!=null?\", 'loop', 'Y'\":\", 'loop', 'N'\",d+=typeof b.position!=\"undefined\"&&b.position!=null?\", 'position', 'Y'\":\", 'position', 'N'\",d+=typeof b.startStyle!=\"undefined\"&&b.startStyle!=null?\", 'startStyle', '\"+b.startStyle+\"'\":\", 'startStyle', 'normal'\",d+=typeof b.stopStyle!= \"undefined\"&&b.stopStyle!=null?\", 'stopStyle', '\"+b.stopStyle+\"'\":\", 'stopStyle', 'normal'\");d+=\" );\";eval(d)};a.playVideo=function(a,b){var d=\"this.executeNativeCall( 'playVideo'\";d+=\", 'url', '\"+a+\"'\";b!=null&&(d+=typeof b.audio!=\"undefined\"&&b.audio!=null?\", 'audioMuted', 'Y'\":\", 'audioMuted', 'N'\",d+=typeof b.autoplay!=\"undefined\"&&b.autoplay!=null?\", 'autoplay', 'Y'\":\", 'autoplay', 'N'\",d+=typeof b.controls!=\"undefined\"&&b.controls!=null?\", 'controls', 'Y'\":\", 'controls', 'N'\",d+=typeof b.loop!= \"undefined\"&&b.loop!=null?\", 'loop', 'Y'\":\", 'loop', 'N'\",typeof b.position!=\"undefined\"&&b.position!=null&&(d+=\", 'position_top', '\"+b.position.top+\"'\",d+=\", 'position_left', '\"+b.position.left+\"'\",typeof b.width!=\"undefined\"&&b.width!=null&&(d+=\", 'position_width', '\"+b.width+\"'\"),typeof b.height!=\"undefined\"&&b.height!=null&&(d+=\", 'position_height', '\"+b.height+\"'\")),d+=typeof b.startStyle!=\"undefined\"&&b.startStyle!=null?\", 'startStyle', '\"+b.startStyle+\"'\":\", 'startStyle', 'normal'\",d+=typeof b.stopStyle!= \"undefined\"&&b.stopStyle!=null?\", 'stopStyle', '\"+b.stopStyle+\"'\":\", 'stopStyle', 'normal'\");d+=\" );\";eval(d)};a.createEvent=function(b,a,d){var g=b.getFullYear(),h=b.getMonth()+1,i=b.getDate(),m=b.getHours(),b=b.getMinutes();this.executeNativeCall(\"calendar\",\"date\",g+this.zeroPad(h)+this.zeroPad(i)+this.zeroPad(m)+this.zeroPad(b),\"title\",a,\"body\",d)};a.makeCall=function(b){this.executeNativeCall(\"phone\",\"number\",b)};a.sendMail=function(b,a,d){this.executeNativeCall(\"email\",\"to\",b,\"subject\",a,\"body\", d,\"html\",\"N\")};a.sendSMS=function(b,a){this.executeNativeCall(\"sms\",\"to\",b,\"body\",a)};a.setShakeProperties=function(){};a.addAsset=function(b,a){this.executeNativeCall(\"addasset\",\"uri\",url,\"alias\",a)};a.request=function(b,a){var d=\"N\",g=\"N\";typeof a.ignore!=\"undefined\"&&a.ignore!=null&&(d=\"Y\");typeof a.proxy!=\"undefined\"&&a.proxy!=null&&(g=\"Y\");this.executeNativeCall(\"request\",\"uri\",b,\"ignore\",d,\"proxy\",g)};a.removeAsset=function(b){this.executeNativeCall(\"removeasset\",\"alias\",b)};document.addEventListener(\"DOMContentLoaded\", function(){m=!0;this.nativeCallComplete()})};window.ormmaview||window.init_ormmaview();window.init_ormma=function(){var a=window.ormma={},h=a.STATES={UNKNOWN:\"unknown\",DEFAULT:\"default\",RESIZED:\"resized\",EXPANDED:\"expanded\",HIDDEN:\"hidden\"},b=a.EVENTS={ASSETREADY:\"assetReady\",ASSETREMOVED:\"assetRemoved\",ASSETRETIRED:\"assetRetired\",ERROR:\"error\",INFO:\"info\",HEADINGCHANGE:\"headingChange\",KEYBOARDCHANGE:\"keyboardChange\",LOCATIONCHANGE:\"locationChange\",NETWORKCHANGE:\"networkChange\",ORIENTATIONCHANGE:\"orientationChange\",RESPONSE:\"response\",SCREENCHANGE:\"screenChange\",SHAKE:\"shake\",SIZECHANGE:\"sizeChange\", STATECHANGE:\"stateChange\",TILTCHANGE:\"tiltChange\",VIEWABLECHANGE:\"viewableChange\"};a.CONTROLS={BACK:\"back\",FORWARD:\"forward\",REFRESH:\"refresh\",ALL:\"all\"};var i=a.FEATURES={LEVEL1:\"level-1\",LEVEL2:\"level-2\",LEVEL3:\"level-3\",SCREEN:\"screen\",ORIENTATION:\"orientation\",HEADING:\"heading\",LOCATION:\"location\",SHAKE:\"shake\",TILT:\"tilt\",NETWORK:\"network\",SMS:\"sms\",PHONE:\"phone\",EMAIL:\"email\",CALENDAR:\"calendar\",CAMERA:\"camera\",AUDIO:\"audio\",VIDEO:\"video\",MAP:\"map\"},p=a.NETWORK={OFFLINE:\"offline\",WIFI:\"wifi\", CELL:\"cell\",UNKNOWN:\"unknown\"},m=h.UNKNOWN,n={width:0,height:0},f={x:0,y:0,width:0,height:0},d={width:0,height:0},g={\"level-1\":!0,\"level-2\":!0,\"level-3\":!0,screen:!0,orientation:!0,heading:!0,location:!0,shake:!0,tilt:!0,network:!0,sms:!0,phone:!0,email:!0,calendar:!0,camera:!0,audio:!0,video:!0,map:!0},u=-1,v=!1,q=null,s=p.UNKNOWN,w=-1,t=null,x=null,r=null,l={},A=-1,B=!1,y=null,C=0,E={x:function(c){return!isNaN(c)&&c>=0},y:function(c){return!isNaN(c)&&c>=0},width:function(c){return!isNaN(c)&&c>= 0},height:function(c){return!isNaN(c)&&c>=0}},F={useBackground:function(c){return c===!0||c===!1},backgroundColor:function(c){return typeof c==\"string\"&&c.substr(0,1)==\"#\"&&!isNaN(parseInt(c.substr(1),16))},backgroundOpacity:function(c){return!isNaN(c)&&c>=0&&c<=1},lockOrientation:function(c){return c===!0||c===!1}},G={intensity:function(c){return!isNaN(c)},interval:function(c){return!isNaN(c)}},H={state:function(c){m==h.UNKNOWN&&(y=window.setInterval(window.ormma.signalReady,20),e(b.INFO,\"controller initialized, attempting callback\")); e(b.INFO,\"setting state to \"+j(c));m=c;e(b.STATECHANGE,m)},size:function(c){e(b.INFO,\"setting size to \"+j(c));n=c;e(b.SIZECHANGE,n.width,n.height)},defaultPosition:function(c){e(b.INFO,\"setting default position to \"+j(c));f=c},maxSize:function(c){e(b.INFO,\"setting maxSize to \"+j(c));d=c},expandProperties:function(c){e(b.INFO,\"merging expandProperties with \"+j(c));for(var a in c)expandProperties[a]=c[a]},supports:function(c){e(b.INFO,\"setting supports to \"+j(c));g={};for(var a in i)g[i[a]]=D(i[a], c)},heading:function(c){e(b.INFO,\"setting heading to \"+j(c));u=c;e(b.HEADINGCHANGE,u)},keyboardState:function(c){e(b.INFO,\"setting keyboardState to \"+j(c));v=c;e(b.KEYBOARDCHANGE,v)},location:function(c){e(b.INFO,\"setting location to \"+j(c));q=c;e(b.LOCATIONCHANGE,q.lat,q.lon,q.acc)},network:function(c){e(b.INFO,\"setting network to \"+j(c));s=c;e(b.NETWORKCHANGE,s!=p.OFFLINE&&s!=p.UNKNOWN,s)},orientation:function(c){e(b.INFO,\"setting orientation to \"+j(c));w=c;e(b.ORIENTATIONCHANGE,w)},screenSize:function(c){e(b.INFO, \"setting screenSize to \"+j(c));t=c;e(b.SCREENCHANGE,t.width,t.height)},shakeProperties:function(c){e(b.INFO,\"setting shakeProperties to \"+j(c));x=c},tilt:function(c){e(b.INFO,\"setting tilt to \"+j(c));r=c;e(b.TILTCHANGE,r.x,r.y,r.z)},cacheRemaining:function(c){e(b.INFO,\"setting cacheRemaining to \"+j(c));A=c},viewable:function(c){e(b.VIEWABLECHANGE,\"setting viewable to \"+j(c));B=c}},k={},I=function(c){this.event=c;this.count=0;var b={};this.add=function(a){var e=String(a);b[e]||(b[e]=a,this.count++, this.count==1&&ormmaview.activate(c))};this.remove=function(a){a=String(a);return b[a]?(b[a]=null,delete b[a],this.count--,this.count==0&&ormmaview.deactivate(c),!0):!1};this.removeAll=function(){for(var c in b)this.remove(b[c])};this.broadcast=function(c){for(var a in b)b[a].apply({},c)};this.toString=function(){var a=[c,\":\"],e;for(e in b)a.push(\"|\",e,\"|\");return a.join(\"\")}};ormmaview.addEventListener(\"change\",function(c){for(var b in c)(0,H[b])(c[b])});ormmaview.addEventListener(\"shake\",function(){e(b.SHAKE)}); ormmaview.addEventListener(\"error\",function(c,a){e(b.ERROR,c,a)});ormmaview.addEventListener(\"response\",function(c,a){e(b.RESPONSE,c,a)});ormmaview.addEventListener(\"assetReady\",function(c,a){l[c]=a;e(b.ASSETREADY,c)});ormmaview.addEventListener(\"assetRemoved\",function(c){l[c]=null;delete l[c];e(b.ASSETREMOVED,c)});ormmaview.addEventListener(\"assetRetired\",function(c){l[c]=null;delete l[c];e(b.ASSETRETIRED,c)});var o=function(c){var b=function(){};b.prototype=c;return new b},j=function(c){if(typeof c== \"object\")if(c.push){var b=[],a;for(a in c)b.push(c[a]);return\"[\"+b.join(\",\")+\"]\"}else{b=[];for(a in c)b.push(\"'\"+a+\"':\"+c[a]);return\"{\"+b.join(\",\")+\"}\"}else return String(c)},z=function(c,a,d,g){if(g)if(c===void 0)return e(b.ERROR,\"Required object missing.\",d),!1;else for(var f in a)if(c[f]===void 0)return e(b.ERROR,\"Object missing required property \"+f,d),!1;for(f in c)if(a[f]){if(!a[f](c[f]))return e(b.ERROR,\"Value of property \"+f+\" is not valid type.\",d),!1}else return e(b.ERROR,\"Invalid property specified - \"+ f+\".\",d),!1;return!0},D=function(c,b){for(var a in b)if(b[a]==c)return!0;return!1},e=function(){for(var c=Array(arguments.length),b=0;b<arguments.length;b++)c[b]=arguments[b];b=c.shift();k[b]&&k[b].broadcast(c)};a.signalReady=function(){ORMMAReady?(window.clearInterval(y),ORMMAReady(),e(b.INFO,\"callback invoked\")):(C+=20,C>=1E4&&(window.clearInterval(y),e(b.ERROR,\"Callback not found (timeout of 10000ms occurred)!\")))};a.addEventListener=function(c,a){!c||!a?e(b.ERROR,\"Both event and listener are required.\", \"addEventListener\"):D(c,b)?(k[c]||(k[c]=new I(c)),k[c].add(a)):e(b.ERROR,\"Unknown event: \"+c,\"addEventListener\")};a.close=function(){ormmaview.close()};a.expand=function(c,a){e(b.INFO,\"expanding to \"+j(c));z(c,E,\"expand\",!0)&&ormmaview.expand(c,a)};a.getDefaultPosition=function(){return o(f)};a.getExpandProperties=function(){return o(ormmaview.getExpandProperties())};a.getMaxSize=function(){return o(d)};a.getSize=function(){return o(n)};a.getState=function(){return m};a.hide=function(){m==h.HIDDEN? e(b.ERROR,\"Ad is currently hidden.\",\"hide\"):ormmaview.hide()};a.open=function(c,a){c?ormmaview.open(c,a):e(b.ERROR,\"URL is required.\",\"open\")};a.openMap=function(c,a){c?ormmaview.openMap(c,a):e(b.ERROR,\"POI is required.\",\"openMap\")};a.removeEventListener=function(c,a){c?a&&(!k[c]||!k[c].remove(a))?e(b.ERROR,\"Listener not currently registered for event\",\"removeEventListener\"):(k[c]&&k[c].removeAll(),k[c]&&k[c].count==0&&(k[c]=null,delete k[c])):e(b.ERROR,\"Must specify an event.\",\"removeEventListener\")}; a.resize=function(c,a){c==null||a==null||isNaN(c)||isNaN(a)||c<0||a<0?e(b.ERROR,\"Requested size must be numeric values between 0 and maxSize.\",\"resize\"):c>d.width||a>d.height?e(b.ERROR,\"Request (\"+c+\" x \"+a+\") exceeds maximum allowable size of (\"+d.width+\" x \"+d.height+\")\",\"resize\"):c==n.width&&a==n.height?e(b.ERROR,\"Requested size equals current size.\",\"resize\"):ormmaview.resize(c,a)};a.setExpandProperties=function(c){z(c,F,\"setExpandProperties\")&&ormmaview.setExpandProperties(c)};a.show=function(){m!= h.HIDDEN?e(b.ERROR,\"Ad is currently visible.\",\"show\"):ormmaview.show()};a.playAudio=function(c,a){g[i.AUDIO]?!c||typeof c!=\"string\"?e(b.ERROR,\"Request must specify a URL\",\"playAudio\"):ormmaview.playAudio(c,a):e(b.ERROR,\"Method not supported by this client.\",\"playAudio\")};a.playVideo=function(c,a){g[i.VIDEO]?!c||typeof c!=\"string\"?e(b.ERROR,\"Request must specify a URL\",\"playVideo\"):ormmaview.playVideo(c,a):e(b.ERROR,\"Method not supported by this client.\",\"playVideo\")};a.createEvent=function(c,a,d){a= a.replace(/^\\s+|\\s+$/g,\"\");d=d.replace(/^\\s+|\\s+$/g,\"\");g[i.CALENDAR]?!c||typeof c!=\"object\"||!c.getDate?e(b.ERROR,\"Valid date required.\",\"createEvent\"):!a||typeof a!=\"string\"||a.length==0?e(b.ERROR,\"Valid title required.\",\"createEvent\"):!d||typeof d!=\"string\"||d.length==0?e(b.ERROR,\"Valid body required.\",\"createEvent\"):ormmaview.createEvent(c,a,d):e(b.ERROR,\"Method not supported by this client.\",\"createEvent\")};a.getHeading=function(){g[i.HEADING]||e(b.ERROR,\"Method not supported by this client.\", \"getHeading\");return u};a.getKeyboardState=function(){g[i.LEVEL2]||e(b.ERROR,\"Method not supported by this client.\",\"getKeyboardState\");return v};a.getLocation=function(){g[i.LOCATION]||e(b.ERROR,\"Method not supported by this client.\",\"getLocation\");return null==q?null:o(q)};a.getNetwork=function(){g[i.NETWORK]||e(b.ERROR,\"Method not supported by this client.\",\"getNetwork\");return s};a.getOrientation=function(){g[i.ORIENTATION]||e(b.ERROR,\"Method not supported by this client.\",\"getOrientation\");return w}; a.getScreenSize=function(){if(g[i.SCREEN])return null==t?null:o(t);else e(b.ERROR,\"Method not supported by this client.\",\"getScreenSize\")};a.getShakeProperties=function(){if(g[i.SHAKE])return null==x?null:o(x);else e(b.ERROR,\"Method not supported by this client.\",\"getShakeProperties\")};a.getTilt=function(){if(g[i.TILT])return null==r?null:o(r);else e(b.ERROR,\"Method not supported by this client.\",\"getTilt\")};a.makeCall=function(a){g[i.PHONE]?!a||typeof a!=\"string\"?e(b.ERROR,\"Request must provide a number to call.\", \"makeCall\"):ormmaview.makeCall(a):e(b.ERROR,\"Method not supported by this client.\",\"makeCall\")};a.sendMail=function(a,d,f){g[i.EMAIL]?!a||typeof a!=\"string\"?e(b.ERROR,\"Request must specify a recipient.\",\"sendMail\"):ormmaview.sendMail(a,d,f):e(b.ERROR,\"Method not supported by this client.\",\"sendMail\")};a.sendSMS=function(a,d){g[i.SMS]?!a||typeof a!=\"string\"?e(b.ERROR,\"Request must specify a recipient.\",\"sendSMS\"):ormmaview.sendSMS(a,d):e(b.ERROR,\"Method not supported by this client.\",\"sendSMS\")};a.setShakeProperties= function(a){g[i.SHAKE]?z(a,G,\"setShakeProperties\")&&ormmaview.setShakeProperties(a):e(b.ERROR,\"Method not supported by this client.\",\"setShakeProperties\")};a.supports=function(a){return g[a]?!0:!1};a.addAsset=function(a,d){!a||!d||typeof a!=\"string\"||typeof d!=\"string\"?e(b.ERROR,\"URL and alias are required.\",\"addAsset\"):g[i.LEVEL3]?ormmaview.addAsset(a,d):a.indexOf(\"ormma://\")==0?e(b.ERROR,\"Native device assets not supported by this client.\",\"addAsset\"):(l[d]=a,e(b.ASSETREADY,d))};a.addAssets=function(b){for(var d in b)a.addAsset(b[d], d)};a.getAssetURL=function(a){l[a]||e(b.ERROR,\"Alias unknown.\",\"getAssetURL\");return l[a]};a.getCacheRemaining=function(){g[i.LEVEL3]||e(b.ERROR,\"Method not supported by this client.\",\"getCacheRemaining\");return A};a.request=function(a,d){g[i.LEVEL3]?!a||typeof a!=\"string\"?e(b.ERROR,\"URI is required.\",\"request\"):ormmaview.request(a,d):e(b.ERROR,\"Method not supported by this client.\",\"request\")};a.removeAllAssets=function(){for(var b in l)a.removeAsset(b)};a.removeAsset=function(a){!a||typeof a!=\"string\"? e(b.ERROR,\"Alias is required.\",\"removeAsset\"):l[a]?g[i.LEVEL3]?ormmaview.removeAsset(a):(l[a]=null,delete l[a],e(b.ASSETREMOVED,a)):e(b.ERROR,\"Alias unknown.\",\"removeAsset\")};a.getViewable=function(){return B}};window.ormma||window.init_ormma();window.Ormma=window.ormma;"
